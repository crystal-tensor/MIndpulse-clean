# 智核交互 V2 界面使用指南

## 🎯 设计理念

基于 `conminit.md` 的设计要求，全新的智核交互 V2 界面采用**三段式对话-抽取-推理工作台**架构：

1. **分阶段意图采集**：目标 → 资源 → 约束 → 推理
2. **实时知识图谱增量构建**：边聊边长的动态图谱
3. **量子推理引擎耦合**：VQE算法优化决策方案

## 🚀 访问方式

新界面可通过以下路径访问：
```
http://localhost:3000/ai-exploration-v2
```

## 🎨 界面架构

### 主要区域划分

| 区域位置 | 功能说明 | 主要特性 |
|---------|---------|----------|
| **左侧边栏** | 会话管理 | 历史对话列表、星标收藏、标签分类 |
| **顶部标签栏** | 视图切换 | Dialogue/Graph/Reasoning/Compare 四个模式 |
| **主内容区** | 核心交互 | 根据当前标签显示对应功能面板 |
| **右上角** | 视图控制 | 完整视图/仅对话/仅图谱 三种模式 |

### 核心功能模块

## 1. 📝 对话面板 (Dialogue)

### 🎯 阶段指示器
- **目标阶段** (紫色): 用户描述要达成的目标
- **资源阶段** (蓝色): 列出可用的资源条件
- **约束阶段** (红色): 说明限制和约束条件
- **推理阶段** (芯片色): 自动触发量子推理计算

### 💬 智能对话流程
```
用户输入 → AI理解 → 实体提取 → 图谱更新 → 阶段推进
```

### ✨ 实体提取展示
每条AI消息都会显示提取的实体：
- 🎯 **目标实体** (紫色标签)
- 🔧 **资源实体** (蓝色标签)  
- ⚠️ **约束实体** (红色标签)

## 2. 🌐 图谱面板 (Graph)

### 📊 动态知识图谱
- **实时构建**: 对话过程中自动生成节点和关系
- **分层可视化**: 支持目标/资源/约束三层图层控制
- **交互操作**: 点击节点选择，拖拽调整位置

### 🎨 视觉编码系统
- **节点颜色**:
  - 🟣 紫色: 目标节点
  - 🔵 蓝色: 资源节点
  - 🔴 红色: 约束节点
- **边线类型**:
  - 实线: 支持关系
  - 虚线: 依赖关系
  - 红线: 冲突关系

### 🏆 量子选中高亮
- 金色外圈: 量子算法选中的最优节点
- 自动联动: 与推理结果实时同步

## 3. 🧮 推理面板 (Reasoning)

### ⚡ 量子VQE计算
点击"运行VQE"按钮，系统将：
1. 将知识图谱转换为QUBO矩阵
2. 调用量子计算API进行求解
3. 返回Pareto前沿解集
4. 在图谱中高亮最优节点

### 📈 结果可视化
- **Pareto前沿散点图**: 展示多目标优化结果
- **方案对比表格**: 详细的参数和概率信息
- **最优标记**: 绿色"Pareto最优"标签

### 🎯 交互联动
- 点击散点图 ↔ 高亮对应图谱节点
- 选择方案 ↔ 更新图谱视图
- 多方案比较支持

## 4. 📊 比较面板 (Compare)

> 🚧 即将推出: 多方案对比和历史快照分析

## 🎮 交互特性

### ⌨️ 键盘快捷键
- `Enter`: 发送消息
- `Ctrl+1/2/3`: 快速切换视图模式
- `Ctrl+Tab`: 切换功能标签

### 🎨 视觉反馈
- **渐进式动画**: 平滑的状态转换
- **实时状态**: 加载指示器和进度条
- **色彩编码**: 一致的视觉语言系统

### 📱 响应式设计
- 自适应布局支持不同屏幕尺寸
- 移动端友好的触控交互

## 🔄 工作流程示例

### 完整决策流程
```
1. 新建对话 → 系统询问目标
   ↓
2. 用户描述目标 → AI提取目标实体 → 图谱显示目标节点
   ↓  
3. 系统询问资源 → 用户列举资源 → 图谱添加资源节点
   ↓
4. 系统询问约束 → 用户说明限制 → 图谱添加约束关系
   ↓
5. 自动进入推理阶段 → 运行VQE → 显示优化结果
   ↓
6. 用户查看方案 → 选择最优解 → 继续深入分析
```

## 🎯 最佳实践

### 对话技巧
- **目标阶段**: 描述具体、可量化的目标
- **资源阶段**: 详细列出所有可用资源
- **约束阶段**: 明确说明硬约束和软约束

### 图谱操作
- 使用图层控制筛选关注重点
- 点击节点查看详细信息
- 拖拽调整布局便于理解

### 推理分析
- 关注Pareto最优解
- 对比多个方案的权衡
- 结合概率信息做决策

## 🆚 与V1版本的区别

| 特性 | V1版本 | V2版本 |
|------|--------|--------|
| **对话流程** | 自由对话 | 结构化四阶段 |
| **实体提取** | 手动触发 | 实时自动 |
| **图谱构建** | 静态生成 | 动态增量 |
| **量子推理** | 独立功能 | 深度集成 |
| **界面布局** | 固定分栏 | 灵活标签 |
| **交互体验** | 传统UI | 现代工作台 |

## 🛠️ 技术架构

### 前端技术栈
- **React 18** + TypeScript
- **Tailwind CSS** 玻璃态设计
- **Heroicons** 统一图标系统
- **SVG** 原生图谱渲染

### API集成
- `/api/mindpilot/extract-variables`: 实体提取
- `/api/mindpilot/quantum-solve`: 量子推理
- 实时状态管理和错误处理

### 数据流程
```
用户输入 → 实体提取API → 状态更新 → 图谱重绘 → 量子推理 → 结果展示
```

## 🎉 开始使用

1. **启动项目**:
   ```bash
   npm run dev
   ```

2. **访问新界面**:
   ```
   http://localhost:3000/ai-exploration-v2
   ```

3. **开始对话**:
   - 点击"新建对话"
   - 描述您的目标
   - 跟随AI引导完成三个阶段
   - 查看量子推理结果

4. **探索功能**:
   - 切换不同标签页体验各功能
   - 调整视图模式适应需求
   - 使用图层控制探索图谱

---

**🚀 智核交互 V2 - 让每个决策都充满智慧！** 